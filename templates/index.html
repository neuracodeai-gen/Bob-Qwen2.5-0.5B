<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bob - Ollama Chat</title>
  <link rel="stylesheet" href="/static/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css" id="hljs-dark">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-light.min.css" id="hljs-light" disabled>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
</head>
<body>

<!-- LOGIN/SIGNUP PAGE -->
<div id="auth-page" class="auth-page">
  <div class="auth-container">
    <h1 class="auth-logo">Bob</h1>
    <p class="auth-subtitle">Offline AI Chat</p>

    <!-- WELCOME SECTION -->
    <section id="auth-welcome" class="auth-section">
      <p>Welcome to Bob</p>
      <button id="btn-signin-choice" class="auth-btn">Sign In</button>
      <button id="btn-signup-choice" class="auth-btn secondary">Create Account</button>
    </section>

    <!-- SIGN IN SECTION -->
    <section id="auth-signin" class="auth-section" style="display: none;">
      <h2>Sign In</h2>
      <input type="text" id="login-username" placeholder="Username" class="auth-input">
      <input type="password" id="login-password" placeholder="Password" class="auth-input">
      <button id="login-btn" class="auth-btn">Sign In</button>
      <p class="auth-toggle"><a href="#" id="back-to-welcome-1">‚Üê Back</a></p>
    </section>

    <!-- SIGN UP SECTION -->
    <section id="auth-signup" class="auth-section" style="display: none;">
      <h2>Create Account</h2>
      <input type="text" id="signup-username" placeholder="Username" class="auth-input">
      <input type="password" id="signup-password" placeholder="Password" class="auth-input">
      <input type="text" id="signup-about" placeholder="About you (optional)" class="auth-input">
      <button id="signup-btn" class="auth-btn">Sign Up</button>
      <p class="auth-toggle"><a href="#" id="back-to-welcome-2">‚Üê Back</a></p>
    </section>

    <div id="auth-error" class="auth-error"></div>
  </div>
</div>

<!-- MAIN CHAT APP -->
<div id="chat-app" class="app" style="display: none;">

  <!-- SIDEBAR -->
  <div id="sidebar" class="sidebar">
    <div class="sidebar-header">
      <div class="sidebar-title-wrapper">
        <h1 class="sidebar-logo">Bob</h1>
        <p class="sidebar-subtitle" id="user-label">Offline AI</p>
      </div>
      <div class="sidebar-controls">
        <button id="toggle-sidebar" class="toggle-btn" title="Toggle sidebar">‚ò∞</button>
        <button id="theme-toggle" class="theme-btn" title="Toggle light/dark mode">üåô</button>
      </div>
    </div>

    <button id="new-chat-btn" class="new-chat-btn">
      <span class="btn-icon">+</span>
      <span class="btn-text">New Chat</span>
    </button>

    <div id="chat-list" class="chat-list"></div>

    <div class="sidebar-footer">
      <button id="user-profile-btn" class="user-profile-btn">üë§ Profile</button>
      <button id="logout-btn" class="logout-btn">üö™ Logout</button>
      <p class="footer-text">Powered by Qwen 2.5 0.5B</p>
    </div>
  </div>

  <!-- MAIN CHAT -->
  <div class="main">
    <div class="chat-header">
      <h2 id="chat-title" class="chat-title">Start a new chat</h2>
    </div>

    <div id="chat-box" class="chat-box"></div>

    <div class="input-area">
      <div class="input-container">
        <div class="input-wrapper">
          <input type="text" id="user-input" placeholder="Type your message..." autocomplete="off">
          <label for="file-input" class="file-label" title="Attach file">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
              <polyline points="17 8 12 3 7 8"></polyline>
              <line x1="12" y1="3" x2="12" y2="15"></line>
            </svg>
          </label>
          <input type="file" id="file-input" class="file-input" accept="*">
          <button id="send-btn" class="send-btn" title="Send message (Enter)">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 L4.13399899,1.16396755 C3.34915502,0.9 2.40734225,0.9 1.77946707,1.4429026 C0.994623095,2.10604706 0.837654326,3.0486314 1.15159189,3.99097222 L3.03521743,10.4319653 C3.03521743,10.5890627 3.19218622,10.7461601 3.50612381,10.7461601 L16.6915026,11.5316469 C16.6915026,11.5316469 17.1624089,11.5316469 17.1624089,12.0029391 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z"></path>
            </svg>
          </button>
        </div>
        <div id="file-preview" class="file-preview"></div>
      </div>
    </div>

  </div>

</div>

<!-- PROFILE MODAL -->
<div id="profile-modal" class="modal" style="display: none;">
  <div class="modal-content">
    <h2>User Profile</h2>
    <div class="profile-field">
      <label>Username:</label>
      <p id="profile-username"></p>
    </div>
    <div class="profile-field">
      <label>About:</label>
      <textarea id="profile-about" class="profile-textarea"></textarea>
    </div>
    <div class="modal-buttons">
      <button id="save-profile-btn" class="modal-btn">Save</button>
      <button id="close-profile-btn" class="modal-btn cancel">Close</button>
    </div>
  </div>
</div>

</div>

<script src="/static/app.js"></script>
</body>
</html>